---
layout: post
title: "Week 8 - Working with sound and video"
---

# Today

- check-in
 - visitor today
 - codevember!
 - in-class challenge: 10print
- review grid-based work
- working with sound and video!

### Codevember

what is it?

how to participate?

- [mini-site](http://codevember.xyz)

>  "The work of past ages accumulates, and is remade again" -- Osamu Sato 

#### Watch:
- Zach Lieberman's [talk](https://www.youtube.com/watch?v=bmztlO9_Wvo) on Poetic Computation and code sketches

#### Resources:
- Daily Sketches in [2016](https://medium.com/@zachlieberman/daily-sketches-2016-28586d8f008e) and [2017](https://medium.com/@zachlieberman/daily-sketches-in-2017-1b4234b0615d)
- [My Year of Code Sketching](https://leetusman.com/nosebook/code-sketching-2019) - *warning, I wrote this*
- [What I Learned in Almost 30 Days of Codevember](https://blog.prototypr.io/what-i-learned-in-almost-30-days-of-codevember-9a0e963de4c6)

Generative artists doing daily code sketching:
- [Saskia Freeke](https://sasj.nl/portfolio/daily/)
- [Reza Ali](https://www.instagram.com/syedrezaali/)



### Class challenge: 10print

#### Resources

Nick introducing 10print - [video](https://youtu.be/34CXQr5OLas?t=171)

10print running - [video](https://www.youtube.com/watch?v=m9joBLOZVEo)

10Print book - [pdf](https://nickm.com/trope_tank/10_PRINT_121114.pdf)


# Sound

So far, we have only been using programming to create visual artworks. But p5.js also features a sound library, called p5Sound that allows us to work with sound in our sketches. Sound adds an extra dimension, potentially helping to place us more fully in an immersive experience. It can also serve just as accompaniment, or as a fundamental part of our work.

Working with sound is quite similar to the process of working with imported images.

1. Load the sound into the editor
2. Create a global variable to hold the sound file.
3. Load the sound file in your preload function (or use a *callback* function that runs only after your sound loads).
4. NEW: begin playback of that particular sound file somewhere using ```.play()```.

```
var mySound;

function preload() {
  mySound = loadSound('doorbell.mp3');
}

function setup() {
  mySound.play();
}
```

We don't play mySound.play() in our draw() function because we only want the sound to play once. If we place it in draw, it will trigger a new playing of the sound every time the draw() function is called.

A few other sound-specific methods:

- ```isLoaded()``` will return the boolean ```true``` if the sound file has loaded already.
- ```isPlaying()``` will return true if the sound file is currently playing. This is really useful for toggling sound on and off. Use an if statement to detect if a sound file is playing, and then choose to play it if it's currently false.
- ```setVolume()``` between 0.0 (silence) and 1.0 (full volume)
- ```.play()``` starts playback of a specific sound file
- ```.stop()``` does what you think it does
- ```.loop()``` begins looping playback of a soundfile
- ```.pause()``` pauses the file. Start it again with ```.play()```

### playMode

And lastly, an important one:
- ```playMode()```, which has three potential arguments, ```restart``` or ```sustain``` or ```untilDone```. By default, the playMode is sustain. In sustain mode, each time play is called, the program will play the full sound file from start to finish, which means any previously-started playing of the same sound file will be heard simultaneously until it has ended playing. In restart mode, if the sound file has already been playing and you call play on that sound again, it will stop the previous and start playing the soundfile from the beginning again. Lastly, if playMode is untilDone and you call play on a soundfile, it will only start playback if it's not currently playing.

- These and additional [sound file commands/methods](http://p5js.org/reference/#/p5.SoundFile) can be found in the p5Sound reference.

```
//example of toggling a song on or off when you press the mouse
var song;

function preload(){
  song = loadSound('freebird.mp3');
}

function setup() {
  createCanvas(720, 200);
  text("click to play",50,50);
}

function mousePressed() {
  if (song.isPlaying()) { //remember, this is the same as writing if (song.isPlaying() == true){ };
    // .isPlaying() returns a boolean true in this instance
    song.stop(); //so stop playing it
  } else { //otherwise, it wasn't playing
    song.play(); //so start playing it!
  }
}
```

##### Note:

Web browsers have just recently begun to be set to ignore autoplaying sound and video on the web, even if we've specified that we want a sound file to start playing in the setup(). They have done this to try to curb on the amount of auto-playing sound that plagued the internet, particularly advertisements. To play audio going forward, you'll have to have a user click first.

To get around this, many programmers are now adding a button or instructions to 'click to play' and then have your [[audio]] start playing once the user has clicked in the window.

Simple [example here](http://p5js.org/reference/#/p5.MediaElement/play)

# Video

Loading video works almost entirely the same as loading audio. Both are called 'media elements' in a web browser.

1. Load the file in your code editor
2. Create a global variable to hold the media file
3. Preload it in that variable in the preload (or if you load it somewhere else, you'll need to add a callback function to run after it successfully loads)
4. You can play the video with play

```
var vid;
function preload() {
  vid = createVideo('toothy.mp4');
}

// This function is called when the video loads
function setup() {
  vid.play();
}
```

[example code](http://editor.p5js.org/2sman/sketches/OtTKtDohH)

- Note: To position the video element on the page, you specify position with ```.position(x,y);```.
- More info on [createVideo](http://p5js.org/reference/#/p5/createVideo) options.



